# sandbox-run config for Claude Code (Node.js-based AI coding agent)
#
# Usage: sandbox-run --config claude-code.toml -- claude
#
# Security: policy is always STRICT. This config only relaxes specific
# path filters and extensions — all 8 isolation layers remain active.

[sandbox]
# Network access required for Anthropic API calls
network = true

[paths]
# Node.js runtime and system libraries (read-only)
readonly = [
    "/opt/node22",
    "/usr/local/bin",
    "/usr/share/zoneinfo",
    "/etc/ssl",
    "/lib/x86_64-linux-gnu",
]

# Extra read-write paths (workspace is added automatically)
allowed = []

# Blocked paths — always denied
deny = [
    "/etc/shadow",
    "/etc/gshadow",
]

[filters]
# Terminal ioctls for interactive TUI
ioctls = ["tty"]

# Socket options for HTTPS/TLS
sockopts = ["tcp_nodelay", "so_keepalive"]

[env]
